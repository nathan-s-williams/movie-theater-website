<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Receipt Page</title>
        <!-- Importing styling for header -->
        <h:outputStylesheet library="css" name="main.css"/>
        <!-- Importing Javascript program for the footer -->
        <h:outputScript library = "js" name = "script.js" target="body"/>
    </h:head>
    <h:body>
        <!--Navigation and Title div -->
        <div id="nav" />
        
        <!--Div section for the customer to display their first name,
        last name, theater name, zipcode of the theater, showtime through
        the movieTheaterBean and card number, expiration date, and cvv through
        the paymentBean-->
        <div class="card center">
            <h:form>
                <p style="font-size: 1.5vw; text-align: center">Thank you for your purchase!</p>
                <p style="font-size: 1.5vw; text-align: center">Your receipt:</p>
                <h:panelGrid style="margin: 0 auto; width: 400px" columns="2" cellpadding="7" cellspacing="10">
                    <p:outputLabel value="Full Name:" />
                    <p:outputLabel value="#{paymentBean.firstName} #{paymentBean.lastName}" />

                    <p:outputLabel value="Theater:" />
                    <p:outputLabel value="#{movieTheaterBean.theater.theaterName}" />

                    <p:outputLabel value="Movie:" />
                    <p:outputLabel value="#{movieTheaterBean.movie.title}" />

                    <p:outputLabel value="Showtime:" />
                    <p:outputLabel value="#{movieTheaterBean.showtimes.showtimesPK.showtime}" />

                    <p:outputLabel value="Credit Card:" />
                    <p:outputLabel value="#{paymentBean.cardNumber}" />

                    <p:outputLabel value="Expiration:" />
                    <p:outputLabel value="#{paymentBean.expDate}" />

                    <p:outputLabel value="CSV:" />
                    <p:outputLabel value="#{paymentBean.cvv}" />
                </h:panelGrid>
                <hr style="width: 400px" />
                
                <!--This section is to display the total cost
                of the tickets through the movieTheaterBean-->
                
                <h:panelGrid style="margin: 0 auto; width: 400px" columns="2" cellpadding="0" cellspacing="10" columnClasses="receipt-total-label-ui-grid">
                    <p:outputLabel value="Total:" />
                    <p:outputLabel value="$#{movieTheaterBean.calcTotal()}" />
                </h:panelGrid>
                <br/>
                <br/>
                <div style="text-align: center">
                    <p:commandButton style="" value="New Purchase" action="#{movieTheaterBean.newPurchase()}" ajax="false" />
                </div>
            </h:form>
        </div>
        <div id="footer" />
    </h:body>
</html>


